function toDashCase(t){return t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function toCamelCase(t){return t.replace(/-([a-z])/gi,t=>t[1].toUpperCase())}function has(t,e){return t.hasOwnProperty(e)}function empty(){return Object.create(null)}function freeze(t){return Object.freeze(t)}const EMPTY=freeze(empty());function getter(t,e){switch(t){case String:return function(){return this.getAttribute(e)};case Boolean:return function(){return this.hasAttribute(e)};case Number:return function(){return Number(this.getAttribute(e))}}}function setter(t,e){switch(t){case String:case Number:return function(t){this.setAttribute(e,t)};case Boolean:return function(t){this.toggleAttribute(e,t)}}}const finalized=new WeakSet,AttributeMixin=t=>(class extends t{constructor(){super();const t=this.constructor;if(finalized.has(t)||!t.hasOwnProperty("properties"))return;const e=t.properties,s=t.prototype;for(const t in e){const{type:i,reflect:r}=e[t];if(r){const e=toDashCase(t);Object.defineProperty(s,t,{configurable:!0,enumerable:!0,get:getter(i,e),set:setter(i,e)})}}finalized.add(t)}toggleAttribute(t,e){null!=e?e?this.setAttribute(t,""):this.removeAttribute(t):this.hasAttribute(t)?this.removeAttribute(t):this.setAttribute(t,"")}}),subscriptions=new WeakMap,connector=t=>(e,s)=>(class extends e{connectedCallback(){const{selectors:e,actions:i}=s;if(e){const s=()=>Object.assign(this,e(t.getState()));subscriptions.set(this,t.subscribe(s)),s()}if(i){const e=i(t.dispatch);for(const t in e)this.addEventListener(t,s=>{s.stopImmediatePropagation(),e[t](s.detail)})}super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){if(s.selectors){subscriptions.get(this)()}super.disconnectedCallback&&super.disconnectedCallback()}}),FocusMixin=t=>(class extends t{static get observedAttributes(){return(super.observedAttributes||[]).concat(["disabled"])}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get disabled(){return this.hasAttribute("disabled")}set focused(t){t?this.setAttribute("focused",""):this.removeAttribute("focused")}get focused(){return this.hasAttribute("focused")}attributeChangedCallback(t,e,s){if("disabled"===t){const t=null!=s;this.setAttribute("aria-disabled",t),t?(this.removeAttribute("tabindex"),this.blur()):this.setAttribute("tabindex","0")}super.attributeChangedCallback&&super.attributeChangedCallback(t,e,s)}connectedCallback(){this.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("blur",this.onBlur.bind(this)),this.hasAttribute("tabindex")||this.disabled||this.setAttribute("tabindex","0"),super.connectedCallback&&super.connectedCallback()}focus(){super.focus(),this.disabled||this.dispatchEvent(new Event("focus"))}onFocus(t){this.focused=!0}blur(){super.blur(),this.dispatchEvent(new Event("blur"))}onBlur(t){this.focused=!1}}),MinimalMixin=t=>(class extends t{emit(t,e,s){const i=Object.assign({bubbles:!0,cancelable:!0,detail:e},s);return this.dispatchEvent(new CustomEvent(t,i))}toggleAttribute(t,e){null!=e?e?this.setAttribute(t,""):this.removeAttribute(t):this.hasAttribute(t)?this.removeAttribute(t):this.setAttribute(t,"")}});function isPrimitive(t){switch(t){case String:case Number:case Boolean:return!0;default:return!1}}const finalized$1=new WeakSet,properties=new WeakMap,observers=new WeakMap,batches=new WeakMap;function setter$1(t){return function(e){const s=properties.get(this)[t];properties.get(this)[t]=e;const i=observers.get(this.constructor)[t],r=i.length;for(let n=0;n<r;n++)i[n].call(this,t,s,e)}}function getter$1(t){return function(){return properties.get(this)[t]}}function reflector(t,e){switch(t){case Number:case String:return function(t,s,i){this.setAttribute(e,i)};case Boolean:return function(t,s,i){i?this.setAttribute(e,""):this.removeAttribute(e)}}}function propertyChanged(t,e,s){this.propertyChangedCallback(t,e,s)}const PropertiesMixin=t=>(class extends t{static get observedAttributes(){const t=this.properties;return t?Object.entries(t).filter(([t,e])=>isPrimitive(e.type)).map(([t,e])=>toDashCase(t)):[]}static setup(){if(!finalized$1.has(this)){observers.set(this,empty()),this.mappedAttributes=new Set;for(const t in this.properties){Object.defineProperty(this.prototype,t,{configurable:!0,enumerable:!0,get:getter$1(t),set:setter$1(t)});const{type:e,reflect:s,observe:i}=this.properties[t],r=observers.get(this)[t]=[];if(i&&r.push(propertyChanged),s){const s=toDashCase(t);this.mappedAttributes.add(s),r.push(reflector(e,s))}}finalized$1.add(this)}}constructor(){super(),this.constructor.setup(),properties.set(this,empty()),batches.set(this,empty())}connectedCallback(){const t=this.constructor;if(!has(t,"properties"))return;const e=t.properties;for(const t in e){const{type:s,required:i}=e[t];let r,n=null==this[t];const a=toDashCase(t);if(n&&this.hasAttribute(a)){const e=this.getAttribute(a);switch(this.removeAttribute(a),s){case String:r=e;break;case Number:r=Number(e);break;case Boolean:r=null!=e;break;default:r=JSON.parse(e)}(n=null==r)||(this[t]=r)}n&&has(e[t],"default")?this[t]=e[t].default.call(this):i&&console.warn(`Required property '${t}' was not passed down to`,this)}super.connectedCallback&&super.connectedCallback()}attributeChangedCallback(t,e,s){if(this.constructor.mappedAttributes.has(t)&&e!==s){const e=toCamelCase(t),i=this.constructor.properties,r=i[e]&&i[e].type||String,n=properties.get(this)[e];let a;switch(r){case String:a=s;break;case Number:a=Number(s);break;case Boolean:a=null!=s}properties.get(this)[e]=a,this.propertyChangedCallback(e,n,a)}super.attributeChangedCallback&&super.attributeChangedCallback(t,e,s)}propertyChangedCallback(t,e,s){clearTimeout(this._debouncer);const i=batches.get(this);i[t]={name:t,oldValue:e,newValue:s},this._debouncer=setTimeout(()=>{this.propertiesChangedCallback(i),batches.set(this,empty())},1)}propertiesChangedCallback(t){}flushPropertyChanges(){clearTimeout(this._debouncer),this.propertiesChangedCallback(batches.get(this)),batches.set(this,empty())}}),StaticTemplateMixin=t=>(class extends t{constructor(){super(),this.constructor.hasOwnProperty("template")&&this.attachShadow({mode:"open"})}connectedCallback(){const t=this.constructor;if(t.hasOwnProperty("template")){const e=t.template.content;this.shadowRoot.appendChild(e.cloneNode(!0))}super.connectedCallback&&super.connectedCallback()}});function sanitize(t){return t instanceof HTMLTemplateElement?t.innerHTML:String(t)}function html(t,...e){const s=t.raw,i=document.createElement("template");return i.innerHTML=e.reduce((t,e,i)=>t+sanitize(e)+s[i+1],s[0]),i}const ShadyCSS=window.ShadyCSS,emulated=!(null==ShadyCSS||ShadyCSS.nativeShadow&&ShadyCSS.nativeCss),finalized$2=new WeakSet,ShadyTemplateMixin=t=>{const e=StaticTemplateMixin(t);return class extends e{constructor(){super();const t=this.constructor;t.template&&!finalized$2.has(t)&&(emulated&&ShadyCSS.prepareTemplate(t.template,this.localName),finalized$2.add(t))}connectedCallback(){super.connectedCallback(),finalized$2.has(this.constructor)&&emulated&&ShadyCSS.styleElement(this),super.connectedCallback&&super.connectedCallback()}}};export{AttributeMixin,connector,FocusMixin,MinimalMixin,PropertiesMixin,ShadyTemplateMixin,StaticTemplateMixin,html};
//# sourceMappingURL=index.min.js.map
